Правила организации Go-кода:

1. ОДИН ФАЙЛ = ОДНО ДЕЛО
   - user_validator.go — только валидация пользователей
   - payment_processor.go — только обработка платежей
   - email_sender.go — только отправка писем

2. ФАЙЛЫ-ПОМОЩНИКИ (НЕ САМОСТОЯТЕЛЬНЫЕ)
   Некоторые файлы содержат ОБЩУЮ ЛОГИКУ для других модулей.
   Это нормально и правильно!

3. ДВА ТИПА ПАКЕТОВ: ФИЧИ И ИНСТРУМЕНТЫ

   Важно понимать, КОГДА использовать подпапки, а когда нет. Есть два основных подхода к группировке:

   **А. Пакеты-Фичи (группировка по бизнес-логике)**

   Используй подпапки, когда ты разделяешь **крупные, независимые бизнес-фичи**.
   
   Пример:
   subscription/
   ├── create_subscription.go   ← ПОМОЩНИК (общая логика)
   ├── trial/                   ← ФИЧА 1 (отдельный подпакет)
   │   └── trial.go
   └── referral/                ← ФИЧА 2 (отдельный подпакет)
       └── referral.go

   `trial` и `referral` — это разные сценарии использования продукта. У них может быть своя, сильно отличающаяся логика. Создавать для них подпакеты — **правильно**.

   **Б. Пакеты-Инструменты (группировка по техническим возможностям)**

   Используй плоскую структуру (файлы в одной папке), когда ты объединяешь **связанные технические возможности** в один "набор инструментов".

   Пример — пакет для работы с CSV:
   ```
   csv/             <- Пакет "Инструменты для CSV"
   ├── writer.go    <- Инструмент для записи
   ├── reader.go    <- Инструмент для чтения
   └── helpers.go   <- Общие детали для этих инструментов
   ```
   `writer` и `reader` — это не разные бизнес-фичи, а разные инструменты из одного ящика. Они лежат в одном пакете `csv` и могут вызывать друг друга напрямую. Так же устроен стандартный пакет `net/http` в Go.

4. ГЛАВНАЯ ИДЕЯ:
   - **Пакеты-Фичи**: подпапки являются самостоятельными частями бизнес-логики.
   - **Пакеты-Инструменты**: файлы в одной папке являются инструментами для решения одной технической задачи.
   - В обоих случаях: НЕ дублируй код — выноси общее в функции-помощники.

5. ПРАВИЛА ИМЕНОВАНИЯ:
   Файл должен отвечать на вопрос "ЧТО он делает?"
   
   ❌ НЕ ДЕЛАЙ ТАК (непонятные имена):
   - types.go — типы чего?
   - utils.go — какие утилиты?
   - helpers.go — какие помощники?
   - validate.go — валидация чего?
   - repository.go — репозиторий чего?
   
   ✅ ДЕЛАЙ ТАК (понятные имена):
   - user_validator.go — валидация пользователей
   - order_repository.go — репозиторий заказов
   - payment_processor.go — обработка платежей
   - email_sender.go — отправка писем
   - subscription_calculator.go — расчёт стоимости подписки

6. ГЛАВНОЕ ПРАВИЛО:
   Если нашёл баг в общей логике — исправь его в одном файле-помощнике, и это автоматически заработает для всех, кто его использует.
   
   Один баг = один файл для фикса.
   Один файл = одна ответственность.
   Имя файла = описание его ответственности.

Используй этот подход при генерации кода.
